<h2 class="page-title">
  Operations Dashboard
</h2>

<div *ngIf="loading">Loading metrics...</div>

<div *ngIf="!loading">

  <!-- USER CARD -->
  <div class="card">
    <p>
      Logged in as:
      <strong>{{ user$ | async }}</strong>
    </p>

    <p>
      Role:
      <strong>{{ role$ | async }}</strong>
    </p>
  </div>

  <!-- METRIC CARDS -->
  <div class="metrics-grid">

    <div class="metric-card">
      <h4>Warehouses</h4>
      <p>{{ totalWarehouses }}</p>
    </div>

    <div class="metric-card">
      <h4>Products</h4>
      <p>{{ totalProducts }}</p>
    </div>

    <div class="metric-card">
      <h4>Total Orders</h4>
      <p>{{ totalOrders }}</p>
    </div>

    <div class="metric-card">
      <h4>Total Revenue</h4>
      <p>â‚¹ {{ totalRevenue | number:'1.0-2' }}</p>
    </div>

  </div>

  <!-- ORDER STATUS BREAKDOWN -->
  <div class="card">

    <h3>Order Status Breakdown</h3>

    <div class="status-grid">

      <div class="status-box created">
        Created: {{ createdCount }}
      </div>

      <div class="status-box confirmed">
        Confirmed: {{ confirmedCount }}
      </div>

      <div class="status-box shipped">
        Shipped: {{ shippedCount }}
      </div>

      <div class="status-box delivered">
        Delivered: {{ deliveredCount }}
      </div>

      <div class="status-box cancelled">
        Cancelled: {{ cancelledCount }}
      </div>

    </div>

  </div>

</div>
